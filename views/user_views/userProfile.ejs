<%- include("partials/header") %>

  <%- include("partials/navbar") %>

    <!-- User Profile -->
    <section class="user-profile section">
      <div class="container">
        <div class="row">
          <div class="col-lg-4">
            <div class="sidebar">
              <!-- User Widget -->
              <div class="widget user">
                <!-- User Image -->
                <div class="image d-flex justify-content-center">
                  <img src="/user_public/images/user/user-thumb.jpg" alt="" class="">
                </div>
                <!-- User Name -->
                <h5 class="text-center">
                  <%= userDetail.name %>
                </h5>
              </div>
              <!-- Dashboard Links -->
              <div class="widget user-dashboard-menu">

                <ul>

                  <li><strong>Name :<%= userDetail.name %></strong></li>
                  <li><strong>Phone:<%= userDetail.phone %></strong></li>
                  <li><strong>Email:<%= userDetail.email %></strong></li>

                </ul>
              </div>
            </div>
          </div>
          <div class="col-lg-8">
            <!-- Edit Profile Welcome Text -->
            <div class="widget welcome-message">

              <h2>Edit profile</h2>

            </div>
           
            <!-- Edit Personal Info -->
            <div class="row">
              <div class="col-lg-12 col-md-12">
                <div class="widget personal-info">
                  <h3 class="widget-header user">Edit Personal Information</h3>
                  <form action="/editUserProfile" method="post" id="password-form" onsubmit="validatePasswords(event)">

                    <!-- First Name -->
                    <div class="form-group">
                      <label for="first-name">Name</label>
                      <input type="text" class="form-control" id="first-name" name="name">
                    </div>
                    <!-- Last Name -->
                    <div class="form-group">
                      <label for="last-name">Email</label>
                      <input type="email" class="form-control" id="last-name" name="email">
                    </div>
                    <!-- Comunity Name -->
                    <div class="form-group">
                      <label for="comunity-name">Phone</label>
                      <input type="tel" class="form-control" id="comunity-name" name="phone">
                    </div>
                    <!-- Current Password -->
                    <!-- <div class="form-group">
                    <label for="current-password">Current Password</label>
                    <input type="password" class="form-control" id="current-password" name="currentPassword">
                  </div> -->
                    <!-- New Password -->
                    <div class="form-group">
                      <label for="new-password">New Password</label>
                      <input type="password" class="form-control" id="new-password">
                    </div>
                    <!-- Confirm New Password -->
                    <div class="form-group">
                      <label for="confirm-password">Confirm New Password</label>
                      <input type="password" class="form-control" id="confirm-password" name="newPassword"
                        name="password">

                    </div>
                    <button type="submit" class="btn btn-transparent">Save My Changes</button>
                  </form>


                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </section>
    <script>
      function validatePasswords(event) {
        event.preventDefault(); // Prevent the form from submitting initially

        var newPassword = document.getElementById('new-password').value;
        var confirmPassword = document.getElementById('confirm-password').value;

        if (newPassword !== confirmPassword) {
          alert("New password and confirm password do not match!");
          return; // Stop further form submission
        }

        if (newPassword.length < 9) {
          alert("Password should be at least 9 characters long!");
          return; // Stop further form submission
        }
        

        // If the passwords match, continue with form submission
        document.getElementById('password-form').submit();
      }
    </script>
    <script>

    </script>
  



    <%- include("partials/footer") %>